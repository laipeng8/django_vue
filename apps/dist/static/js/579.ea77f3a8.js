"use strict";(self["webpackChunkbpvank_front_end"]=self["webpackChunkbpvank_front_end"]||[]).push([[579],{1579:function(e,l,t){t.r(l),t.d(l,{default:function(){return Ve}});var a=t(3396),i=t(7139);const n={class:"systemSetup"},s={class:"left_box"},r={class:"title"},o=(0,a.Uk)(" 首页展示设置 "),d={class:"content"},c=(0,a._)("h4",null,"首页置顶文章（单选）",-1),u=(0,a._)("p",null,"提示：1、不选择则不显示置顶文章。",-1),g={style:{"margin-right":"8px"}},p={style:{color:"var(--el-text-color-secondary)","font-size":"13px"}},f={class:"content"},m=(0,a._)("h4",null,"首页文章展示（多选）",-1),v=(0,a._)("p",null,"提示：1、最多选择10条数据。",-1),h={style:{"margin-right":"8px"}},_={style:{color:"var(--el-text-color-secondary)","font-size":"13px"}},V={class:"content"},y=(0,a._)("h4",null,"左侧精选文章（多选）",-1),A=(0,a._)("p",null,"提示：1、最多选择8条数据。2、选中的第一条文章为封面文章",-1),w={style:{"margin-right":"8px"}},k={style:{color:"var(--el-text-color-secondary)","font-size":"13px"}},b={class:"content"},I=(0,a._)("h4",null,"左侧技术专区文章（多选）",-1),z=(0,a._)("p",null,"提示：1、最多选择10条数据。",-1),U={style:{"margin-right":"8px"}},W={style:{color:"var(--el-text-color-secondary)","font-size":"13px"}},L={class:"content"},x=(0,a._)("h4",null,"右侧资源专区文章（多选）",-1),S=(0,a._)("p",null,"提示：1、最多选择10条数据。2、选中的第一条文章为封面文章",-1),E={style:{"margin-right":"8px"}},C={style:{color:"var(--el-text-color-secondary)","font-size":"13px"}},N={class:"content"},R=(0,a.Uk)("> "),j=(0,a._)("h4",null,"左侧广告1",-1),O=(0,a._)("h5",null,"广告图",-1),F=(0,a._)("p",null,"提示：点击上传的图片地址由系统生成，修改会导致图片失效",-1),J=(0,a.Uk)("上传图片"),B=(0,a._)("h5",null,"广告链接",-1),T=(0,a._)("p",null,"提示：链接必须包含http或者https",-1),D={class:"content"},P=(0,a._)("h4",null,"右侧广告1",-1),q=(0,a._)("h5",null,"广告图",-1),K=(0,a._)("p",null,"提示：点击上传的图片地址由系统生成，修改会导致图片失效",-1),M=(0,a.Uk)("上传图片"),Z=(0,a._)("h5",null,"广告链接",-1),G=(0,a._)("p",null,"提示：链接必须包含http或者https",-1),H={class:"content"},Q=(0,a._)("h4",null,"右侧广告2",-1),X=(0,a._)("h5",null,"广告图",-1),Y=(0,a._)("p",null,"提示：点击上传的图片地址由系统生成，修改会导致图片失效",-1),$=(0,a.Uk)("上传图片"),ee=(0,a._)("h5",null,"广告链接",-1),le=(0,a._)("p",null,"提示：链接必须包含http或者https",-1),te={class:"title"},ae=(0,a.Uk)(" 网站特效设置 "),ie={class:"content"},ne=(0,a._)("h4",null,"特效1：点击网站页面显示24字核心价值观上升",-1),se={class:"content"},re=(0,a._)("h4",null,"特效2：彩片飘落效果",-1),oe={class:"content",style:{"text-align":"center"}},de=(0,a.Uk)("保存设置");function ce(e,l,t,ce,ue,ge){const pe=(0,a.up)("Setting"),fe=(0,a.up)("el-icon"),me=(0,a.up)("el-select-v2"),ve=(0,a.up)("el-button"),he=(0,a.up)("el-upload"),_e=(0,a.up)("el-input"),Ve=(0,a.up)("el-option"),ye=(0,a.up)("el-select"),Ae=(0,a.up)("el-col"),we=(0,a.up)("el-row");return(0,a.wg)(),(0,a.iD)("div",n,[(0,a.Wm)(we,{gutter:20},{default:(0,a.w5)((()=>[(0,a.Wm)(Ae,{xs:24,sm:24,md:24,lg:24,xl:24},{default:(0,a.w5)((()=>[(0,a._)("div",s,[(0,a._)("h3",r,[(0,a.Wm)(fe,{style:{"margin-right":"10px"}},{default:(0,a.w5)((()=>[(0,a.Wm)(pe)])),_:1}),o]),(0,a._)("div",d,[c,u,(0,a.Wm)(me,{modelValue:e.stickArticleValue,"onUpdate:modelValue":l[0]||(l[0]=l=>e.stickArticleValue=l),options:e.articleInfo,placeholder:"请选择首页置顶文章",style:{width:"100%"},clearable:"true","value-key":"label",size:"large"},{default:(0,a.w5)((({item:e})=>[(0,a._)("span",g,(0,i.zw)(e.label),1),(0,a._)("span",p,(0,i.zw)(e.value),1)])),_:1},8,["modelValue","options"])]),(0,a._)("div",f,[m,v,(0,a.Wm)(me,{modelValue:e.allArticleValue,"onUpdate:modelValue":l[1]||(l[1]=l=>e.allArticleValue=l),options:e.articleInfo,placeholder:"请选择首页文章展示【10篇】",style:{width:"100%"},multiple:"","value-key":"label","multiple-limit":10,clearable:"true",size:"large"},{default:(0,a.w5)((({item:e})=>[(0,a._)("span",h,(0,i.zw)(e.label),1),(0,a._)("span",_,(0,i.zw)(e.value),1)])),_:1},8,["modelValue","options"])]),(0,a._)("div",V,[y,A,(0,a.Wm)(me,{modelValue:e.featuredArticleValue,"onUpdate:modelValue":l[2]||(l[2]=l=>e.featuredArticleValue=l),options:e.articleInfo,placeholder:"请选择首页左侧精选文章【8篇】",style:{width:"100%"},multiple:"","value-key":"label","multiple-limit":8,clearable:"true",size:"large"},{default:(0,a.w5)((({item:e})=>[(0,a._)("span",w,(0,i.zw)(e.label),1),(0,a._)("span",k,(0,i.zw)(e.value),1)])),_:1},8,["modelValue","options"])]),(0,a._)("div",b,[I,z,(0,a.Wm)(me,{modelValue:e.technologyArticleValue,"onUpdate:modelValue":l[3]||(l[3]=l=>e.technologyArticleValue=l),options:e.technologyArticleInfo,placeholder:"请选择首页左侧技术专区文章【10篇】",style:{width:"100%"},multiple:"","value-key":"label","multiple-limit":10,clearable:"true",size:"large"},{default:(0,a.w5)((({item:e})=>[(0,a._)("span",U,(0,i.zw)(e.label),1),(0,a._)("span",W,(0,i.zw)(e.value),1)])),_:1},8,["modelValue","options"])]),(0,a._)("div",L,[x,S,(0,a.Wm)(me,{modelValue:e.resourceArticleValue,"onUpdate:modelValue":l[4]||(l[4]=l=>e.resourceArticleValue=l),options:e.resourceArticleInfo,placeholder:"请选择首页右侧资源专区文章【10篇】",style:{width:"100%"},multiple:"","value-key":"label","multiple-limit":10,clearable:"true",size:"large"},{default:(0,a.w5)((({item:e})=>[(0,a._)("span",E,(0,i.zw)(e.label),1),(0,a._)("span",C,(0,i.zw)(e.value),1)])),_:1},8,["modelValue","options"])]),(0,a._)("div",N,[R,j,O,F,(0,a.Wm)(_e,{size:"large",modelValue:e.advertising.advertisingImg1,"onUpdate:modelValue":l[5]||(l[5]=l=>e.advertising.advertisingImg1=l),placeholder:"请点击上传图片或手动输入图片地址"},{append:(0,a.w5)((()=>[(0,a.Wm)(he,{ref:"uploadEle",class:"upload-demo",action:e.uploadURL,"on-success":ce.handleAvatarSuccess1,"before-upload":ce.beforeUploadFunction,"show-file-list":!1},{trigger:(0,a.w5)((()=>[(0,a.Wm)(ve,{style:{width:"100px"}},{default:(0,a.w5)((()=>[J])),_:1})])),_:1},8,["action","on-success","before-upload"])])),_:1},8,["modelValue"]),B,T,(0,a.Wm)(_e,{size:"large",modelValue:e.advertising.advertisingLink1,"onUpdate:modelValue":l[6]||(l[6]=l=>e.advertising.advertisingLink1=l),placeholder:"请输入广告链接"},null,8,["modelValue"])]),(0,a._)("div",D,[P,q,K,(0,a.Wm)(_e,{size:"large",modelValue:e.advertising.advertisingImg2,"onUpdate:modelValue":l[7]||(l[7]=l=>e.advertising.advertisingImg2=l),placeholder:"请点击上传图片或手动输入图片地址"},{append:(0,a.w5)((()=>[(0,a.Wm)(he,{ref:"uploadEle",class:"upload-demo",action:e.uploadURL,"on-success":ce.handleAvatarSuccess2,"before-upload":ce.beforeUploadFunction,"show-file-list":!1},{trigger:(0,a.w5)((()=>[(0,a.Wm)(ve,{style:{width:"100px"}},{default:(0,a.w5)((()=>[M])),_:1})])),_:1},8,["action","on-success","before-upload"])])),_:1},8,["modelValue"]),Z,G,(0,a.Wm)(_e,{size:"large",modelValue:e.advertising.advertisingLink2,"onUpdate:modelValue":l[8]||(l[8]=l=>e.advertising.advertisingLink2=l),placeholder:"请输入广告链接"},null,8,["modelValue"])]),(0,a._)("div",H,[Q,X,Y,(0,a.Wm)(_e,{size:"large",modelValue:e.advertising.advertisingImg3,"onUpdate:modelValue":l[9]||(l[9]=l=>e.advertising.advertisingImg3=l),placeholder:"请点击上传图片或手动输入图片地址"},{append:(0,a.w5)((()=>[(0,a.Wm)(he,{ref:"uploadEle",class:"upload-demo",action:e.uploadURL,"on-success":ce.handleAvatarSuccess3,"before-upload":ce.beforeUploadFunction,"show-file-list":!1},{trigger:(0,a.w5)((()=>[(0,a.Wm)(ve,{style:{width:"100px"}},{default:(0,a.w5)((()=>[$])),_:1})])),_:1},8,["action","on-success","before-upload"])])),_:1},8,["modelValue"]),ee,le,(0,a.Wm)(_e,{size:"large",modelValue:e.advertising.advertisingLink3,"onUpdate:modelValue":l[10]||(l[10]=l=>e.advertising.advertisingLink3=l),placeholder:"请输入广告链接"},null,8,["modelValue"])]),(0,a._)("h3",te,[(0,a.Wm)(fe,{style:{"margin-right":"10px"}},{default:(0,a.w5)((()=>[(0,a.Wm)(pe)])),_:1}),ae]),(0,a._)("div",ie,[ne,(0,a.Wm)(ye,{modelValue:e.effects.effects01,"onUpdate:modelValue":l[11]||(l[11]=l=>e.effects.effects01=l),placeholder:"请选择特效1状态",size:"large",style:{width:"100%"}},{default:(0,a.w5)((()=>[(0,a.Wm)(Ve,{label:"关闭",value:"false"}),(0,a.Wm)(Ve,{label:"开启",value:"true"})])),_:1},8,["modelValue"])]),(0,a._)("div",se,[re,(0,a.Wm)(ye,{modelValue:e.effects.effects02,"onUpdate:modelValue":l[12]||(l[12]=l=>e.effects.effects02=l),placeholder:"请选择特效2状态",size:"large",style:{width:"100%"}},{default:(0,a.w5)((()=>[(0,a.Wm)(Ve,{label:"关闭",value:"false"}),(0,a.Wm)(Ve,{label:"开启",value:"true"})])),_:1},8,["modelValue"])]),(0,a._)("div",oe,[(0,a.Wm)(ve,{plain:"",color:"#2fa7b9",onClick:ce.leftSaveSettings},{default:(0,a.w5)((()=>[de])),_:1},8,["onClick"])])])])),_:1})])),_:1})])}var ue=t(4870),ge=t(6265),pe=t.n(ge),fe=t(7178);function me(e){pe().get("/showAllArticleInfo").then((l=>{l.data.articleInfo.forEach((l=>{e.articleInfo.unshift({label:l.articleId,value:l.articleTitle})})),l.data.articleInfo.forEach((l=>{1==l.articleClassifyId&&e.technologyArticleInfo.unshift({label:l.articleId,value:l.articleTitle})})),l.data.articleInfo.forEach((l=>{2==l.articleClassifyId&&e.resourceArticleInfo.unshift({label:l.articleId,value:l.articleTitle})}))})),pe().get("/showAllSystemSetup").then((l=>{e.stickArticleValue=l.data.stickArticle,e.allArticleValue=JSON.parse(l.data.allArticle),e.featuredArticleValue=JSON.parse(l.data.featuredArticle),e.technologyArticleValue=JSON.parse(l.data.technologyArticle),e.resourceArticleValue=JSON.parse(l.data.resourceArticle),e.advertising.advertisingImg1=l.data.advertising1,e.advertising.advertisingLink1=l.data.advertisingLink1,e.advertising.advertisingImg2=l.data.advertising2,e.advertising.advertisingLink2=l.data.advertisingLink2,e.advertising.advertisingImg3=l.data.advertising3,e.advertising.advertisingLink3=l.data.advertisingLink3,e.effects.effects01=l.data.effects01.toString(),e.effects.effects02=l.data.effects02.toString()}))}var ve={setup(){(0,a.bv)((()=>{me(e)}));const e=(0,ue.qj)({articleInfo:[],stickArticleValue:"",allArticleValue:[],featuredArticleValue:[],technologyArticleInfo:[],technologyArticleValue:[],resourceArticleInfo:[],resourceArticleValue:[],advertising:{advertisingImg1:"",advertisingLink1:"",advertisingImg2:"",advertisingLink2:"",advertisingImg3:"",advertisingLink3:""},effects:{effects01:null,effects02:null},uploadURL:{NODE_ENV:"production",BASE_URL:"/"}.VUE_APP_URL+"/advertisingImgUpload"}),l=e=>"image/jpeg"!==e.type&&"image/jpg"!==e.type&&"image/png"!==e.type&&"image/gif"!==e.type?(fe.z8.error("仅支持图片格式.png | .jpg | .jpeg | .gif "),!1):!(e.size/1024/1024>5)||(fe.z8.error("仅支持大小不超过5MB的图片!"),!1),t=l=>{console.log(l),e.advertisingImg.advertising1=l},i=l=>{e.advertisingImg.advertising2=l},n=l=>{e.advertisingImg.advertising3=l},s=()=>{const l={stickArticle:e.stickArticleValue,allArticle:"["+e.allArticleValue+"]",featuredArticle:"["+e.featuredArticleValue+"]",technologyArticle:"["+e.technologyArticleValue+"]",resourceArticle:"["+e.resourceArticleValue+"]",advertising1:e.advertising.advertisingImg1,advertisingLink1:e.advertising.advertisingLink1,advertising2:e.advertising.advertisingImg2,advertisingLink2:e.advertising.advertisingLink2,advertising3:e.advertising.advertisingImg3,advertisingLink3:e.advertising.advertisingLink3,effects01:e.effects.effects01,effects02:e.effects.effects02};pe().post("/systemSetup/updateSystemSetup",l).then((l=>{0==l.data.code&&(me(e),(0,fe.z8)({message:"保存成功",type:"success"}),location.reload())}))};return{...(0,ue.BK)(e),beforeUploadFunction:l,handleAvatarSuccess1:t,handleAvatarSuccess2:i,handleAvatarSuccess3:n,leftSaveSettings:s}}},he=t(89);const _e=(0,he.Z)(ve,[["render",ce]]);var Ve=_e}}]);